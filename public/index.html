<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8" />
  <title>WH40K Sebz√©skalkul√°tor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <details class="notice" open>
    <summary>‚ÑπÔ∏è Fontos tudnival√≥k (kattints bez√°r√°shoz/nyit√°shoz)</summary>
    <span class="small">
      ‚Ä¢ A v√©d≈ë ment≈ëdob√°sai <b>fedez√©kben √©rtend≈ëk</b>.<br/>
      ‚Ä¢ N√©h√°ny fegyverk√©pess√©g <b>√°tlagolva</b> ker√ºl sz√°m√≠t√°sra. P√©lda: a <b>Heavy</b> k√©t k√∂rb≈ël sz√°mol (mozg√°s ut√°n + mozdulatlanul), ezek √°tlaga jelenik meg.
    </span>
  </details>

  <h1>WH40K Sebz√©skalkul√°tor</h1>

  <div class="tabs">
    <input type="radio" id="mode-preset" name="mode" checked />
    <input type="radio" id="mode-manual" name="mode" />
    <div class="tab-labels">
      <label class="tab-label" for="mode-preset">El≈ëre megadott</label>
      <label class="tab-label" for="mode-manual">Manu√°lis</label>
    </div>

    <!-- EL≈êRE MEGADOTT -->
    <div id="tab-preset" class="tab-content">
      <div class="flex">
        <div>
          <h3>üî´ T√°mad√≥ (el≈ëre megadott)</h3>
          <label>üì¶ El≈ëre defini√°lt t√°mad√≥:
            <select id="presetAttacker"></select>
          </label>
        </div>

        <div>
          <h3>üõ°Ô∏è C√©lpont (el≈ëre megadott)</h3>
          <label>üì¶ El≈ëre defini√°lt c√©lpont:
            <select id="presetDefender"></select>
          </label>
        </div>
      </div>

      <details class="disclosure">
        <summary>R√©szletek</summary>
        <p class="muted">A kiv√°lasztott egys√©g fegyverei √©s be√°ll√≠t√°sai a Manu√°lis f√ºl√∂n szerkeszthet≈ëk. A list√°t a kiv√°laszt√°s ut√°n a rendszer t√∂lti fel.</p>
      </details>
    </div>

    <!-- MANU√ÅLIS -->
    <div id="tab-manual" class="tab-content">
      <div class="flex">
        <div>
          <h3>üî´ T√°mad√≥</h3>

          <label>F√°zis:
            <select id="phase">
              <option value="ranged">Ranged (l√∂v≈ë)</option>
              <option value="melee">Melee (k√∂zelharc)</option>
            </select>
          </label>

          <div id="weapons-container">
            <!-- KEZD≈ê WeaponMount sor -->
            <div class="weapon">
              <label>Darab (count):
                <input class="count" type="number" value="1" min="1" />
              </label>

              <label>Attack (t√°mad√°sok sz√°ma):
                <input class="attacks" type="number" value="10" />
              </label>
              <label>BS:
                <input class="bs" type="number" value="3" />
              </label>
              <label>Er≈ë (S):
                <input class="strength" type="number" value="4" />
              </label>
              <label>AP:
                <input class="ap" type="number" value="-1" />
              </label>
              <label>Sebz√©s:
                <input class="damage" type="number" value="1" />
              </label>

              <label><input class="lethal" type="checkbox" /> Lethal Hits</label>
              <label>Sustained Hits [X]:
                <input class="sustained" type="number" value="0" />
              </label>
              <label><input class="devastating" type="checkbox" /> Devastating Wounds</label>
              <label><input class="twinlinked" type="checkbox" /> Twin-linked</label>

              <label>Rapid Fire [X]:
                <input class="rapidFireX" type="number" value="0" />
              </label>
              <label><input class="withinHalfRange" type="checkbox" /> F√©l t√°v (Rapid Fire)</label>

              <label>Re-roll hit:
                <select class="rerollHit">
                  <option value="none">Nincs</option>
                  <option value="1s">1-eseket</option>
                  <option value="all">Mindent</option>
                </select>
              </label>

              <label>Re-roll wound:
                <select class="rerollWound">
                  <option value="none">Nincs</option>
                  <option value="1s">1-eseket</option>
                  <option value="all">Mindent</option>
                </select>
              </label>

              <label><input class="ignoreCover" type="checkbox" /> Ignore Cover</label>
              <label><input class="torrent" type="checkbox" /> Torrent</label>
              <label><input class="lance" type="checkbox" /> Lance</label>
              <label><input class="blast" type="checkbox" /> Blast</label>
              <label>Melta [X]:
                <input class="meltaX" type="number" value="0" />
              </label>
              <label><input class="heavy" type="checkbox" /> Heavy</label>
              <label>Anti ‚Äì C√©lpont:
                <select class="antiKeyword">
                  <option value="">Nincs</option>
                  <option value="VEHICLE">Vehicle</option>
                  <option value="MONSTER">Monster</option>
                  <option value="INFANTRY">Infantry</option>
                  <option value="PSYKER">Psyker</option>
                </select>
              </label>
              <label>Anti ‚Äì [X]+:
                <input class="antiX" type="number" value="0" min="0" />
              </label>

              <button class="remove-weapon">Elt√°vol√≠t√°s</button>
            </div>
          </div>

          <button id="add-weapon">Fegyver hozz√°ad√°sa</button>

          <!-- TEMPLATE (kl√≥nozza a main.js) -->
          <div id="weapon-template" style="display:none;">
            <div class="weapon">
              <label>Darab (count):
                <input class="count" type="number" value="1" min="1" />
              </label>

              <label>Attack (t√°mad√°sok sz√°ma):
                <input class="attacks" type="number" value="10" />
              </label>
              <label>BS:
                <input class="bs" type="number" value="3" />
              </label>
              <label>Er≈ë (S):
                <input class="strength" type="number" value="4" />
              </label>
              <label>AP:
                <input class="ap" type="number" value="-1" />
              </label>
              <label>Sebz√©s:
                <input class="damage" type="number" value="1" />
              </label>

              <label><input class="lethal" type="checkbox" /> Lethal Hits</label>
              <label>Sustained Hits [X]:
                <input class="sustained" type="number" value="0" />
              </label>
              <label><input class="devastating" type="checkbox" /> Devastating Wounds</label>
              <label><input class="twinlinked" type="checkbox" /> Twin-linked</label>

              <label>Rapid Fire [X]:
                <input class="rapidFireX" type="number" value="0" />
              </label>
              <label><input class="withinHalfRange" type="checkbox" /> F√©l t√°v (Rapid Fire)</label>

              <label>Re-roll hit:
                <select class="rerollHit">
                  <option value="none">Nincs</option>
                  <option value="1s">1-eseket</option>
                  <option value="all">Mindent</option>
                </select>
              </label>

              <label>Re-roll wound:
                <select class="rerollWound">
                  <option value="none">Nincs</option>
                  <option value="1s">1-eseket</option>
                  <option value="all">Mindent</option>
                </select>
              </label>

              <label><input class="ignoreCover" type="checkbox" /> Ignore Cover</label>
              <label><input class="torrent" type="checkbox" /> Torrent</label>
              <label><input class="lance" type="checkbox" /> Lance</label>
              <label><input class="blast" type="checkbox" /> Blast</label>
              <label>Melta [X]:
                <input class="meltaX" type="number" value="0" />
              </label>
              <label><input class="heavy" type="checkbox" /> Heavy</label>
              <label>Anti ‚Äì C√©lpont:
                <select class="antiKeyword">
                  <option value="">Nincs</option>
                  <option value="VEHICLE">Vehicle</option>
                  <option value="MONSTER">Monster</option>
                  <option value="INFANTRY">Infantry</option>
                  <option value="PSYKER">Psyker</option>
                </select>
              </label>
              <label>Anti ‚Äì [X]+:
                <input class="antiX" type="number" value="0" min="0" />
              </label>

              <button class="remove-weapon">Elt√°vol√≠t√°s</button>
            </div>
          </div>
        </div>

        <div>
          <h3>üõ°Ô∏è C√©lpont</h3>
          <label>Toughness (T):
            <input id="toughness" type="number" value="4" />
          </label>
          <label>Save:
            <input id="save" type="number" value="3" />
          </label>
          <label>Invul Save (0 = nincs):
            <input id="invuln" type="number" value="0" />
          </label>
        </div>
      </div>
    </div>
  </div>

  <button id="calc">Sz√°m√≠t√°s</button>
  <div class="result" id="result">üí° Eredm√©ny itt jelenik meg.</div>

  <script type="module" src="js/main.js"></script>
</body>
</html>
